%% Copyright 2019 Bernd Haberstumpf
%% License: CC BY-NC

\RequirePackage[T1]{fontenc}
\usepackage{fontspec}

\renewcommand{\sfdefault}{lmss}

%
% Font mappings
%

\newcommand{\@fontFoot}{\normalfont\scshape}
\newcommand{\@fontPgNumFoot}{\normalfont}


%
% Font definitions
%

\newfontfamily\expaniva[
    Path = lib/fonts/,
    Extension = .otf,
    UprightFont = *,
    BoldFont = *-bold,
    ItalicFont = *-italic,
    BoldItalicFont = *-bold-italic,    
]{Expansiva}


%
% Misc
%

% StrokeColor, FillColor, StrokeWidth, Text
\newcommand*{\fillstroke}[4]{%
    % this is black magic
    % ref: http://tex.stackexchange.com/a/225639/125447
    % Tr: rendering mode (0=Fill, 1=Stroke, 2=FillThenStroke)
    % w: stroke width
    \special{pdf:bcolor #1 #2}%
    \special{pdf:literal direct #3 w 2 Tr}%
    #4%
    % ref: http://project.ktug.org/dvipdfmx/doc/tug2005.pdf
    \special{pdf:ecolor}%
    \special{pdf:literal direct 0 Tr}%
}
